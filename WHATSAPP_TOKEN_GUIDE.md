# ููููุฉ ุงูุญุตูู ุนูู WhatsApp Access Token ู Phone Number ID

## ๐ ุฎุทูุงุช ุงูุญุตูู ุนูู ุงูุจูุงูุงุช ุงููุทููุจุฉ

### 1. ุฅูุดุงุก ุชุทุจูู Meta ููุฃุนูุงู

1. ุงุฐูุจ ุฅูู: https://developers.facebook.com/
2. ุณุฌู ุฏุฎูู ุฃู ุฃูุดุฆ ุญุณุงุจ
3. ุงุถุบุท "My Apps" โ "Create App"
4. ุงุฎุชุฑ ููุน ุงูุชุทุจูู: **"Business"**
5. ุงููุฃ ุงูุจูุงูุงุช:
   - App Name: `ููุฑุฉ ุงุณุชูุฑ WhatsApp`
   - App Contact Email: ุจุฑูุฏู ุงูุฅููุชุฑููู
   - ุงุฎุชุฑ Business Portfolio ุฃู ุฃูุดุฆ ูุงุญุฏ ุฌุฏูุฏ
6. ุงุถุบุท "Create App"

### 2. ุฅุถุงูุฉ WhatsApp ุฅูู ุงูุชุทุจูู

1. ูู ุตูุญุฉ ุงูุชุทุจููุ ุงุจุญุซ ุนู "WhatsApp" ูู ุงููุงุฆูุฉ
2. ุงุถุบุท "Set Up" ุนูู ููุชุฌ WhatsApp
3. ุณุชููุชุญ ููุญุฉ WhatsApp

### 3. ุงูุญุตูู ุนูู Phone Number ID (ูุนุฑู ุงูุฑูู)

ูู ููุญุฉ WhatsApp:

1. ุงุฐูุจ ุฅูู "Getting Started"
2. ุณุชุฌุฏ ูุณู "Phone number ID"
3. **ุงูุณุฎ ูุฐุง ุงูุฑูู** - ูุฐุง ูู `WHATSAPP_PHONE_NUMBER_ID`
4. ูุซุงู: `123456789012345`

### 4. ุงูุญุตูู ุนูู Access Token ุงููุคูุช (ููุงุฎุชุจุงุฑ)

ูู ููุณ ุตูุญุฉ "Getting Started":

1. ุณุชุฌุฏ ูุณู "Temporary access token"
2. ุงุถุบุท "Copy" ููุณุฎ ุงูู Token
3. **ูุฐุง Token ุตุงูุญ ูู 24 ุณุงุนุฉ ููุท** - ููุงุฎุชุจุงุฑ ุงูุณุฑูุน
4. ูุซุงู: `EAABsbCS1iHgBO...`

โ๏ธ **ุชุญุฐูุฑ:** ูุฐุง Token ูุคูุช! ุงุณุชุฎุฏูู ููุท ููุงุฎุชุจุงุฑ. ููุฅูุชุงุฌุ ุงุชุจุน ุงูุฎุทูุฉ 5.

### 5. ุงูุญุตูู ุนูู Access Token ุฏุงุฆู (Production)

ููุญุตูู ุนูู Token ูุง ููุชูู:

#### ุฃ. ุฅูุดุงุก System User

1. ุงุฐูุจ ุฅูู: https://business.facebook.com/settings
2. ูู ุงููุงุฆูุฉ ุงูููููุ ุงุฎุชุฑ "System Users"
3. ุงุถุบุท "Add" ูุฅูุดุงุก System User ุฌุฏูุฏ
4. ุงุฎุชุฑ ุงุณู (ูุซู: `WhatsApp Bot`)
5. ุงุฎุชุฑ ุงูุฏูุฑ: `Admin`
6. ุงุถุบุท "Create System User"

#### ุจ. ุชูููุฏ Access Token

1. ุงุถุบุท "Generate New Token" ููู System User ุงููููุดุฃ
2. ุงุฎุชุฑ ุงูุชุทุจูู ุงูุฎุงุต ุจู ูู ุงููุงุฆูุฉ
3. ุญุฏุฏ ุงูุตูุงุญูุงุช (Permissions):
   - โ `whatsapp_business_messaging`
   - โ `whatsapp_business_management`
4. ุงุถุบุท "Generate Token"
5. **ุงูุณุฎ ุงูู Token ููุฑุงู** - ูู ุชุณุชุทูุน ุฑุคูุชู ูุฑุฉ ุฃุฎุฑู!
6. ุงุญูุธู ูู ููุงู ุขูู

#### ุฌ. ุชุฎุตูุต ุงูุฃุตูู (Assets)

1. ูู ุตูุญุฉ System Userุ ุงุฐูุจ ููุณู "Assign Assets"
2. ุงุฎุชุฑ "Apps"
3. ุฃุถู ุชุทุจููู
4. ุงุฎุชุฑ "Full control"

### 6. ุฅุถุงูุฉ ุงูุฃุฑูุงู ุฅูู ุงูู .env

ุงูุฃุฑูุงู ูุฌุจ ุฃู ุชููู ุจุตูุบุฉ **E.164** ุจุฏูู "+":

```bash
# โ ุตุญูุญ (E.164 ุจุฏูู +)
WHATSAPP_RECIPIENTS=201091450342,201069430567

# โ ุฎุทุฃ
WHATSAPP_RECIPIENTS=01091450342,01069430567
WHATSAPP_RECIPIENTS=+201091450342,+201069430567
```

#### ุชุญููู ุงูุฃุฑูุงู ุงููุตุฑูุฉ:

- ุฑูู ูุญูู: `01091450342`
- ููุฏ ูุตุฑ: `20`
- E.164: `201091450342` โ

### 7. ูุถุน ุงูุจูุงูุงุช ูู .env

ุงูุชุญ ููู `.env` ูุฃุถู:

```bash
WHATSAPP_TOKEN=your_permanent_token_here
WHATSAPP_PHONE_NUMBER_ID=123456789012345
WHATSAPP_TEMPLATE=order_created
WHATSAPP_LANG=ar
WHATSAPP_GRAPH_VERSION=v21.0
WHATSAPP_RECIPIENTS=201091450342,201069430567
```

## ๐งช ุฅุถุงูุฉ ุฃุฑูุงู ุงูุงุฎุชุจุงุฑ

ูุจู ูุดุฑ ุงูุชุทุจููุ ููููู ุงูุฅุฑุณุงู ููุท ูุฃุฑูุงู ููุณุฌูุฉ:

### ุงูุฎุทูุงุช:

1. ูู ููุญุฉ WhatsAppุ ุงุฐูุจ ุฅูู "Getting Started"
2. ูู ูุณู "Send and receive messages"
3. ุฃุฏุฎู ุงูุฑูู ุจุตูุบุฉ **E.164 ูุน +**
   - ูุซุงู: `+201091450342`
4. ุงุถุบุท "Send code"
5. ุณุชุตูู ุฑุณุงูุฉ WhatsApp ุจุฑูุฒ ุงูุชุญูู
6. ุฃุฏุฎู ุงูุฑูุฒ ูู ุงููููุน
7. ูุฑุฑ ููู ุฑูู ุชุฑูุฏ ุฅุถุงูุชู

**ุงูุฃุฑูุงู ุงููุทููุจุฉ:**
- `+201091450342`
- `+201069430567`

## โ ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏ

ุจุนุฏ ุฅุถุงูุฉ ุงูุจูุงูุงุชุ ุชุญูู:

```bash
# 1. ุชุญูู ูู .env
cat .env | grep WHATSAPP

# 2. ุชุญูู ูู Config
php artisan tinker
config('services.whatsapp')

# ูุฌุจ ุฃู ุชุฑู:
# [
#   "token" => "EAABsbCS1...",
#   "phone_number_id" => "123456789012345",
#   "template" => "order_created",
#   ...
# ]
```

## ๐จ ุฃุฎุทุงุก ุดุงุฆุนุฉ

### 1. "Invalid access token"
- ุชุฃูุฏ ูู ูุณุฎ ุงูู Token ูุงููุงู
- ุชุญูู ูู ุนุฏู ูุฌูุฏ ูุณุงูุงุช ูู .env
- ููู Productionุ ุงุณุชุฎุฏู System User Token

### 2. "Phone number not found"
- ุชุญูู ูู Phone Number ID
- ุชุฃูุฏ ุฃูู ูู ููุณ ุงูุชุทุจูู

### 3. "Recipient not allowed"
- ุฃุถู ุงูุฑูู ูู Test Number
- ูู Development mode ููุท ุงูุฃุฑูุงู ุงูููุณุฌูุฉ

### 4. "Template not found"
- ุงูุชุธุฑ ููุงููุฉ Meta ุนูู ุงูู Template
- ุชุญูู ูู ุงุณู Template ูู .env

## ๐ ุงูุฏุนู

- **WhatsApp Docs:** https://developers.facebook.com/docs/whatsapp
- **Business Manager:** https://business.facebook.com/
- **Developer Console:** https://developers.facebook.com/apps

## ๐ ุงูุฎุทูุฉ ุงูุชุงููุฉ

ุจุนุฏ ุฅุถุงูุฉ ุงูุจูุงูุงุช:
1. ุฑุงุฌุน `WHATSAPP_QUICK_SETUP.md` ูุฅูุดุงุก ุงูู Template
2. ุดุบู Queue Worker
3. ุงุฎุชุจุฑ ุงููุธุงู!

---

**ุขุฎุฑ ุชุญุฏูุซ:** ุฃูุชูุจุฑ 2025
